# ğŸš€ AnsFlow CI/CD å¹³å°

> åŸºäºå¾®æœåŠ¡æ¶æ„çš„ä¸‹ä¸€ä»£ä¼ä¸šçº§ CI/CD å¹³å°ï¼Œè‡´åŠ›äºé€šè¿‡åŸå­åŒ–æµæ°´çº¿è®¾è®¡å’Œæ™ºèƒ½åŒ–ç®¡ç†ï¼Œæä¾›çµæ´»ã€é«˜æ•ˆã€å®‰å…¨çš„æŒç»­é›†æˆä¸äº¤ä»˜è§£å†³æ–¹æ¡ˆã€‚

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![React](https://img.shields.io/badge/react-18+-blue.svg)](https://reactjs.org/)
[![Docker](https://img.shields.io/badge/docker-ready-blue.svg)](https://www.docker.com/)
[![WebSocket](https://img.shields.io/badge/websocket-realtime-green.svg)](https://websockets.spec.whatwg.org/)

## ğŸ¯ é¡¹ç›®çŠ¶æ€æ¦‚è§ˆ

**ğŸ“… æœ€æ–°æ›´æ–°**: 2025å¹´7æœˆ9æ—¥  
**ğŸš€ å½“å‰ç‰ˆæœ¬**: v1.3.0  
**ğŸ“ˆ å®Œæˆåº¦**: 95% (å…¨åŠŸèƒ½å®Œå–„ï¼Œç”Ÿäº§å°±ç»ª)

### ğŸ‰ æœ€æ–°å®Œæˆ
- âœ… **Docker ç³»ç»Ÿçº§ API**: å®Œæ•´çš„ç³»ç»Ÿä¿¡æ¯è·å–ã€èµ„æºç»Ÿè®¡ã€æ¸…ç†åŠŸèƒ½
- âœ… **Settings é¡µé¢**: å®¡è®¡æ—¥å¿—ã€ç³»ç»Ÿç›‘æ§ã€ä¼ä¸šçº§è®¾ç½®æ¨¡å—å…¨éƒ¨å°±ç»ª  
- âœ… **æµ‹è¯•ç»„ç»‡**: è§„èŒƒçš„æµ‹è¯•ç›®å½•ç»“æ„ï¼Œå®Œæ•´çš„è°ƒè¯•å·¥å…·
- âœ… **æ–‡æ¡£å®Œå–„**: å¼€å‘ã€éƒ¨ç½²ã€API æ–‡æ¡£å®Œæ•´

### ğŸ“Š å¼€å‘è¿›åº¦
- âœ… **Phase 1**: æ ¸å¿ƒæ‰§è¡Œå¼•æ“ (100%)
- âœ… **Phase 2**: å®æ—¶ç›‘æ§ç³»ç»Ÿ (100%)  
- âœ… **Jenkinsé›†æˆ**: å·¥å…·é›†æˆä¸ç®¡ç† (100%)
- âœ… **å‰ç«¯ç°ä»£åŒ–**: UIç»„ä»¶ä¸ç”¨æˆ·ä½“éªŒ (100%)
- âœ… **Phase 3**: å¤šå·¥å…·é›†æˆä¸é«˜çº§åŠŸèƒ½ (95%)
- âœ… **Docker é›†æˆ**: å®¹å™¨åŒ–ç®¡ç†ä¸ç³»ç»Ÿçº§ API (100%)
- âœ… **Settings ç®¡ç†**: ä¼ä¸šçº§è®¾ç½®ä¸ç›‘æ§ (100%)
- ğŸ¯ **ä¸‹ä¸€æ­¥**: æ€§èƒ½ä¼˜åŒ– & é«˜å¯ç”¨éƒ¨ç½²

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ åŸå­åŒ–æµæ°´çº¿è®¾è®¡
- **åŸå­æ­¥éª¤åº“**: é¢„å®šä¹‰çš„å¯å¤ç”¨æ„å»ºå—
- **å¯è§†åŒ–ç¼–æ’**: æ‹–æ‹½å¼æµæ°´çº¿æ„å»º
- **åŠ¨æ€ç»„åˆ**: çµæ´»çš„æ­¥éª¤ç»„è£…å’Œé…ç½®

### ğŸ—ï¸ å¾®æœåŠ¡æ¶æ„
- **Django ç®¡ç†æœåŠ¡**: ç”¨æˆ·ç®¡ç†ã€æµæ°´çº¿ç¼–æ’ã€å®¡æ‰¹æµç¨‹
- **FastAPI é«˜æ€§èƒ½æœåŠ¡**: Webhook å¤„ç†ã€å®æ—¶æ¨é€ã€å¤–éƒ¨é›†æˆ
- **æ¶ˆæ¯é˜Ÿåˆ—é€šä¿¡**: åŸºäº RabbitMQ çš„å¼‚æ­¥è§£è€¦

### ğŸ”Œ æ™ºèƒ½é›†æˆé€‚é…
- **å¤šæ ·åŒ–è§¦å‘æº**: Git ä»“åº“ã€å®šæ—¶ä»»åŠ¡ã€æ‰‹åŠ¨è§¦å‘ã€å¤–éƒ¨ API
- **ä¸°å¯Œçš„å·¥å…·é›†æˆ**: Jenkinsã€GitLab CIã€Dockerã€Kubernetesã€Ansible
- **è‡ªåŠ¨åŒ–éƒ¨ç½²æ”¯æŒ**: Ansible playbookæ‰§è¡Œã€ä¸»æœºç®¡ç†ã€é…ç½®ç®¡ç†
- **çµæ´»çš„é€šçŸ¥æœºåˆ¶**: é‚®ä»¶ã€Slackã€ä¼ä¸šå¾®ä¿¡ã€è‡ªå®šä¹‰ Webhook

### ğŸ›¡ï¸ ä¼ä¸šçº§å®‰å…¨
- **ç»†ç²’åº¦æƒé™æ§åˆ¶**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC)
- **å¤šå±‚å®¡æ‰¹æµç¨‹**: å¯é…ç½®çš„å®¡æ‰¹å·¥ä½œæµ
- **æ“ä½œå®¡è®¡**: å®Œæ•´çš„æ“ä½œæ—¥å¿—å’Œè¿½è¸ª

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```mermaid
graph TB
    subgraph "å‰ç«¯å±‚"
        A[React 18 + TypeScript]
        B[Ant Design + Tailwind CSS]
        C[å®æ—¶é€šä¿¡ WebSocket]
    end
    
    subgraph "API ç½‘å…³å±‚"
        D[Nginx è´Ÿè½½å‡è¡¡]
        E[API è·¯ç”±ä¸è®¤è¯]
    end
    
    subgraph "ä¸šåŠ¡æœåŠ¡å±‚"
        F[Django REST API<br/>æµæ°´çº¿ç®¡ç†]
        G[FastAPI æœåŠ¡<br/>å®æ—¶æ‰§è¡Œ]
        H[Settings ç®¡ç†<br/>ç³»ç»Ÿç›‘æ§]
    end
    
    subgraph "é›†æˆå±‚"
        I[Jenkins é›†æˆ]
        J[GitLab CI é›†æˆ]
        K[Docker é›†æˆ]
        L[Kubernetes é›†æˆ]
        M[Ansible é›†æˆ]
    end
    
    subgraph "æ•°æ®å±‚"
        N[PostgreSQL<br/>ä¸»æ•°æ®åº“]
        O[Redis<br/>ç¼“å­˜/ä¼šè¯]
        P[RabbitMQ<br/>æ¶ˆæ¯é˜Ÿåˆ—]
    end
    
    A --> D
    B --> D
    C --> D
    D --> F
    D --> G
    D --> H
    F --> I
    F --> J
    G --> K
    G --> L
    G --> M
    F --> N
    G --> O
    H --> P
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- Node.js 16+
- Docker & Docker Compose
- Redis 6+
- PostgreSQL 12+

### å¼€å‘ç¯å¢ƒå¯åŠ¨

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/your-org/ansflow.git
cd ansflow

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
make dev-start

# æˆ–è€…ä½¿ç”¨ Docker Compose
docker-compose up -d

# è®¿é—®åº”ç”¨
open http://localhost:3000
```

### å¿«é€Ÿéƒ¨ç½²

```bash
# ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
make prod-deploy

# ä½¿ç”¨ Kubernetes
kubectl apply -f deployment/k8s/

# ä½¿ç”¨ Helm
helm install ansflow deployment/helm/
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
ansflow/
â”œâ”€â”€ frontend/                 # React å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/      # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/        # API æœåŠ¡
â”‚   â”‚   â””â”€â”€ types/           # TypeScript ç±»å‹
â”œâ”€â”€ backend/                 # Django åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ django_service/
â”‚   â”‚   â”œâ”€â”€ pipelines/       # æµæ°´çº¿ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ cicd_integrations/ # CI/CD å·¥å…·é›†æˆ
â”‚   â”‚   â”œâ”€â”€ docker_integration/ # Docker é›†æˆ
â”‚   â”‚   â”œâ”€â”€ kubernetes_integration/ # K8s é›†æˆ
â”‚   â”‚   â”œâ”€â”€ ansible_integration/ # Ansible é›†æˆ
â”‚   â”‚   â””â”€â”€ settings_management/ # è®¾ç½®ç®¡ç†
â”œâ”€â”€ deployment/              # éƒ¨ç½²é…ç½®
â”‚   â”œâ”€â”€ docker/             # Docker é…ç½®
â”‚   â”œâ”€â”€ k8s/                # Kubernetes é…ç½®
â”‚   â””â”€â”€ helm/               # Helm Charts
â”œâ”€â”€ tests/                   # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ api/                # API æµ‹è¯•
â”‚   â”œâ”€â”€ integration/        # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ unit/               # å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ debug/              # è°ƒè¯•è„šæœ¬
â”œâ”€â”€ docs/                    # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ development/        # å¼€å‘æ–‡æ¡£
â”‚   â”œâ”€â”€ reports/            # å®ŒæˆæŠ¥å‘Š
â”‚   â””â”€â”€ guides/             # ä½¿ç”¨æŒ‡å—
â””â”€â”€ scripts/                # å·¥å…·è„šæœ¬
```

## ğŸ“‹ Todo List

### ğŸ”¥ é«˜ä¼˜å…ˆçº§ (ç«‹å³å¼€å§‹)
- [ ] **æ€§èƒ½ä¼˜åŒ–**
  - [ ] æµæ°´çº¿æ‰§è¡Œæ€§èƒ½ä¼˜åŒ–
  - [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
  - [ ] å‰ç«¯ç»„ä»¶æ‡’åŠ è½½
  - [ ] API å“åº”ç¼“å­˜æœºåˆ¶

- [ ] **ç”Ÿäº§éƒ¨ç½²å‡†å¤‡**
  - [ ] ç”Ÿäº§ç¯å¢ƒé…ç½®ä¼˜åŒ–
  - [ ] å®‰å…¨é…ç½®åŠ å›º
  - [ ] ç›‘æ§å‘Šè­¦ç³»ç»Ÿ
  - [ ] å¤‡ä»½æ¢å¤æ–¹æ¡ˆ

### âš¡ ä¸­ä¼˜å…ˆçº§ (è¿‘æœŸå®Œæˆ)
- [ ] **é«˜çº§åŠŸèƒ½**
  - [ ] æµæ°´çº¿æ¨¡æ¿å¸‚åœº
  - [ ] å¤šç§Ÿæˆ·æ”¯æŒ
  - [ ] é«˜çº§å®¡æ‰¹å·¥ä½œæµ
  - [ ] æµæ°´çº¿åˆ†ææŠ¥è¡¨

- [ ] **é›†æˆæ‰©å±•**
  - [ ] Azure DevOps é›†æˆ
  - [ ] AWS CodePipeline é›†æˆ
  - [ ] æ›´å¤šé€šçŸ¥æ¸ é“
  - [ ] ä¼ä¸šçº§ SSO (LDAP/SAML)

### ğŸ“ˆ ä½ä¼˜å…ˆçº§ (é•¿æœŸè§„åˆ’)
- [ ] **AI/ML åŠŸèƒ½**
  - [ ] æ™ºèƒ½æ•…éšœè¯Šæ–­
  - [ ] æ€§èƒ½é¢„æµ‹åˆ†æ
  - [ ] è‡ªåŠ¨åŒ–æµ‹è¯•æ¨è
  - [ ] ä»£ç è´¨é‡è¯„ä¼°

- [ ] **æ‰©å±•åŠŸèƒ½**
  - [ ] ç§»åŠ¨ç«¯åº”ç”¨
  - [ ] æ’ä»¶ç³»ç»Ÿ
  - [ ] API å¼€æ”¾å¹³å°
  - [ ] ç¤¾åŒºç‰ˆæœ¬

## ğŸ”§ å¼€å‘æŒ‡å—

### å‰ç«¯å¼€å‘
```bash
cd frontend
npm install
npm run dev
```

### åç«¯å¼€å‘
```bash
cd backend/django_service
pip install -r requirements.txt
python manage.py runserver
```

### æµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
make test

# API æµ‹è¯•
python tests/api/test_docker_api.py

# è°ƒè¯•æ¨¡å¼
python tests/debug/test_settings_debug.py
```

## ğŸ“– æ–‡æ¡£

- [ğŸ“š å¼€å‘æ–‡æ¡£](docs/development/)
- [ğŸš€ éƒ¨ç½²æŒ‡å—](docs/deployment/)
- [ğŸ“Š API æ–‡æ¡£](docs/api/)
- [ğŸ”§ æ•…éšœæ’é™¤](docs/troubleshooting/)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·é˜…è¯» [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md) äº†è§£è¯¦æƒ…ã€‚

### æäº¤ Issue
- ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜æè¿°é—®é¢˜
- æä¾›è¯¦ç»†çš„é‡ç°æ­¥éª¤
- åŒ…å«ç›¸å…³çš„é”™è¯¯æ—¥å¿—

### æäº¤ Pull Request
- Fork é¡¹ç›®åˆ°æ‚¨çš„è´¦å·
- åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
- æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
- æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
- å¼€å¯ Pull Request

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæ­¤é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

## ğŸ“ è”ç³»æˆ‘ä»¬

- ğŸ“§ Email: team@ansflow.dev
- ğŸ’¬ Slack: [åŠ å…¥æˆ‘ä»¬çš„ Slack](https://ansflow.slack.com)
- ğŸ¦ Twitter: [@AnsFlowCI](https://twitter.com/AnsFlowCI)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼
