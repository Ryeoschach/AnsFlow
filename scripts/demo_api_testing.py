#!/usr/bin/env python3
"""
AnsFlow APIæµ‹è¯•åŠŸèƒ½æ¼”ç¤ºè„šæœ¬

å¿«é€Ÿæ¼”ç¤ºAPIç«¯ç‚¹æµ‹è¯•åŠŸèƒ½çš„ä½¿ç”¨æ–¹æ³•ã€‚
"""

import requests
import json
import time

def demo_api_testing():
    """æ¼”ç¤ºAPIæµ‹è¯•åŠŸèƒ½"""
    print("=" * 60)
    print("ğŸš€ AnsFlow APIç«¯ç‚¹æµ‹è¯•åŠŸèƒ½æ¼”ç¤º")
    print("=" * 60)
    
    print("ğŸ¯ åŠŸèƒ½äº®ç‚¹:")
    print("âœ… çœŸå®APIè°ƒç”¨æµ‹è¯•ï¼ˆä¸å†ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼‰")
    print("âœ… æ”¯æŒæ‰€æœ‰HTTPæ–¹æ³•ï¼ˆGET/POST/PUT/PATCH/DELETEï¼‰")
    print("âœ… å®Œæ•´çš„è¯·æ±‚å‚æ•°ã€è¯·æ±‚ä½“ã€è¯·æ±‚å¤´æ”¯æŒ")
    print("âœ… ç²¾ç¡®çš„å“åº”æ—¶é—´æµ‹é‡")
    print("âœ… è¯¦ç»†çš„é”™è¯¯å¤„ç†å’Œåˆ†ç±»")
    print("âœ… å‰ç«¯ç•Œé¢ä¼˜åŒ–ï¼Œæ”¯æŒå®æ—¶æµ‹è¯•")
    
    print("\nğŸŒ å‰ç«¯æµ‹è¯•ç•Œé¢:")
    print("1. è®¿é—®: http://localhost:5173/")
    print("2. å¯¼èˆª: Settings â†’ APIæ¥å£ç®¡ç†")
    print("3. æ“ä½œ: ç‚¹å‡»ä»»æ„APIç«¯ç‚¹çš„'æµ‹è¯•æ¥å£'æŒ‰é’®")
    print("4. é…ç½®: è®¾ç½®è¯·æ±‚å‚æ•°ã€è¯·æ±‚ä½“ã€è¯·æ±‚å¤´")
    print("5. æµ‹è¯•: ç‚¹å‡»'å¼€å§‹æµ‹è¯•'æŸ¥çœ‹å®æ—¶ç»“æœ")
    
    print("\nğŸ“Š æµ‹è¯•ç»“æœåŒ…å«:")
    print("â€¢ æˆåŠŸ/å¤±è´¥çŠ¶æ€")
    print("â€¢ HTTPçŠ¶æ€ç ")
    print("â€¢ ç²¾ç¡®å“åº”æ—¶é—´ï¼ˆæ¯«ç§’çº§ï¼‰")
    print("â€¢ å®Œæ•´å“åº”æ•°æ®")
    print("â€¢ å“åº”å¤´ä¿¡æ¯")
    print("â€¢ è¯·æ±‚URLå’Œæ–¹æ³•")
    print("â€¢ æµ‹è¯•æ—¶é—´æˆ³")
    
    print("\nğŸ”§ åç«¯APIæµ‹è¯•æ¥å£:")
    print("POST /api/v1/settings/api-endpoints/{id}/test_endpoint/")
    print("è¯·æ±‚ä½“æ ¼å¼:")
    example_request = {
        "params": {"page": "1", "size": "10"},
        "body": {"name": "test", "data": "value"},
        "headers": {"X-Custom-Header": "test-value"}
    }
    print(json.dumps(example_request, indent=2, ensure_ascii=False))
    
    print("\nğŸ“ˆ æ€§èƒ½ç‰¹æ€§:")
    print("â€¢ 30ç§’è¶…æ—¶ä¿æŠ¤")
    print("â€¢ SSLè¯ä¹¦éªŒè¯")
    print("â€¢ è¿æ¥é”™è¯¯å¤„ç†")
    print("â€¢ å†…å­˜ä¼˜åŒ–æ˜¾ç¤º")
    
    print("\nğŸ¨ UIä¼˜åŒ–:")
    print("â€¢ ç§»é™¤'å¼€å‘ä¸­'æç¤º")
    print("â€¢ æ”¹è¿›å‚æ•°è¾“å…¥ï¼ˆæ”¯æŒkey=valueæ ¼å¼ï¼‰")
    print("â€¢ ä¼˜åŒ–ä»£ç é«˜äº®å’Œå¯¹æ¯”åº¦")
    print("â€¢ æ›´å¥½çš„é”™è¯¯æ¶ˆæ¯æç¤º")
    
    print("\nğŸ’¡ ä½¿ç”¨å»ºè®®:")
    print("1. å…ˆæµ‹è¯•ç®€å•çš„GETæ¥å£ï¼ˆå¦‚å¥åº·æ£€æŸ¥ï¼‰")
    print("2. é€æ­¥æµ‹è¯•å¤æ‚çš„POST/PUTæ¥å£")
    print("3. åˆ©ç”¨è‡ªå®šä¹‰è¯·æ±‚å¤´è¿›è¡Œè°ƒè¯•")
    print("4. è§‚å¯Ÿå“åº”æ—¶é—´ä¼˜åŒ–APIæ€§èƒ½")
    print("5. ä½¿ç”¨é”™è¯¯ä¿¡æ¯æ’æŸ¥æ¥å£é—®é¢˜")
    
    print("\nğŸ” éªŒè¯è¿‡çš„åŠŸèƒ½:")
    print("âœ… GETè¯·æ±‚æµ‹è¯•ï¼ˆ/health/ â†’ 200 OK, 23.18msï¼‰")
    print("âœ… é”™è¯¯å¤„ç†æµ‹è¯•ï¼ˆ404å“åº”æ­£ç¡®å¤„ç†ï¼‰")
    print("âœ… è‡ªå®šä¹‰è¯·æ±‚å¤´ä¼ é€’")
    print("âœ… JSONå’ŒHTMLå“åº”è§£æ")
    print("âœ… æ¯«ç§’çº§å“åº”æ—¶é—´æµ‹é‡")
    
    print("\nğŸš€ ç«‹å³å¼€å§‹:")
    print("1. ç¡®ä¿å‰åç«¯æœåŠ¡è¿è¡Œ")
    print("   - å‰ç«¯: http://localhost:5173/")
    print("   - åç«¯: http://localhost:8000/")
    print("2. è®¿é—®APIç®¡ç†é¡µé¢å¼€å§‹æµ‹è¯•")
    print("3. äº«å—å®Œæ•´çš„APIæµ‹è¯•ä½“éªŒï¼")
    
    print("\n" + "=" * 60)
    print("âœ¨ APIç«¯ç‚¹æµ‹è¯•åŠŸèƒ½å·²å®Œå…¨å°±ç»ªï¼Œæ”¯æŒç”Ÿäº§ä½¿ç”¨ï¼")
    print("=" * 60)

if __name__ == "__main__":
    demo_api_testing()
