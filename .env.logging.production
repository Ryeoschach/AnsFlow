# AnsFlow 生产环境日志配置
# 基于方案一的生产级配置

# ===========================================
# 基础日志配置
# ===========================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_DIR=/var/log/ansflow

# 日志轮转配置
LOG_ROTATION=daily
LOG_RETENTION_DAYS=90

# ===========================================
# Redis 日志流配置
# ===========================================
ENABLE_REDIS_LOGGING=true
REDIS_URL=redis://redis:6379
REDIS_LOG_DB=1
REDIS_LOG_STREAM_NAME=ansflow:logs
REDIS_LOG_STREAM_MAXLEN=50000

# ===========================================
# WebSocket 实时日志配置
# ===========================================
ENABLE_WEBSOCKET_LOGGING=true
WEBSOCKET_LOG_HOST=0.0.0.0
WEBSOCKET_LOG_PORT=8002

# ===========================================
# 性能监控配置
# ===========================================
ENABLE_PERFORMANCE_LOGGING=true
PERFORMANCE_LOG_THRESHOLD_MS=500
SLOW_QUERY_LOG_THRESHOLD_MS=200

# ===========================================
# 安全配置
# ===========================================
ENABLE_SENSITIVE_DATA_FILTER=true
SENSITIVE_KEYS=password,passwd,pwd,token,key,secret,authorization,cookie,session,csrf,api_key

# ===========================================
# 生产环境专用配置
# ===========================================
ENABLE_ERROR_ALERTS=true
ERROR_ALERT_THRESHOLD_PER_MINUTE=20
CRITICAL_ALERT_THRESHOLD_PER_MINUTE=5
ENABLE_LOG_COMPRESSION=true
AUTO_CLEANUP_ARCHIVED_DAYS=365
