# AnsFlow 统一日志系统配置
# 基于方案一：统一目录结构 + 标准化格式

# === 基础日志配置 ===
LOG_DIR=/Users/creed/Workspace/OpenSource/ansflow/logs
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# === 服务配置 ===
DJANGO_SERVICE_NAME=django
FASTAPI_SERVICE_NAME=fastapi
SYSTEM_SERVICE_NAME=system

# === Redis 日志流配置 ===
REDIS_URL=redis://localhost:6379
REDIS_LOG_DB=1
REDIS_LOG_STREAM=ansflow:logs
ENABLE_REDIS_LOGGING=true

# === WebSocket 实时日志推送 ===
WEBSOCKET_LOG_ENDPOINT=ws://localhost:8001/ws/logs
WEBSOCKET_LOG_BUFFER_SIZE=1000
ENABLE_WEBSOCKET_LOGGING=true

# === 日志聚合配置 ===
ENABLE_LOG_AGGREGATION=true
AGGREGATION_INTERVAL_HOURS=1
AGGREGATION_BATCH_SIZE=10000

# === 性能监控配置 ===
ENABLE_PERFORMANCE_LOGGING=true
PERFORMANCE_THRESHOLD_MS=1000
SLOW_QUERY_THRESHOLD_MS=500

# === 安全配置 ===
ENABLE_SENSITIVE_DATA_FILTERING=true
SENSITIVE_FIELDS=password,passwd,pwd,token,key,secret,authorization,cookie,session,csrf

# === 存储优化配置 ===
ENABLE_LOG_COMPRESSION=true
COMPRESSION_THRESHOLD_MB=10
AUTO_ARCHIVE_ENABLED=true

# === 监控告警配置 ===
ERROR_ALERT_THRESHOLD=100
ERROR_ALERT_INTERVAL_MINUTES=15
ENABLE_EMAIL_ALERTS=false
ALERT_EMAIL_TO=admin@ansflow.com

# === 开发环境配置 ===
DEVELOPMENT_MODE=true
ENABLE_DEBUG_LOGGING=false
CONSOLE_LOG_LEVEL=INFO

# === 生产环境配置 ===
# PRODUCTION_MODE=true
# ENABLE_DEBUG_LOGGING=false  
# CONSOLE_LOG_LEVEL=WARNING
# LOG_RETENTION_DAYS=90
