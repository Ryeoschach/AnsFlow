# 流水线编辑器工具栏响应式优化

## 优化目标
解决流水线编辑器顶部工具栏在小屏幕分辨率下出现的布局问题：
- 流水线名称过长时与按钮重叠
- 工具栏按钮在小屏幕上排列拥挤
- 部分功能按钮在移动设备上难以点击

## 优化方案

### 1. PipelineToolbar 组件优化
- **响应式布局**: 根据屏幕大小 (`768px`, `1024px`, `1440px`) 自动调整按钮布局
- **移动端优化**: 
  - 使用 `small` 尺寸按钮
  - 只显示核心功能按钮（取消、添加、保存）
  - 其他功能合并到"更多"下拉菜单中
- **平板端优化**:
  - 显示主要功能按钮
  - 高级功能合并到下拉菜单中
- **桌面端**: 保持原有完整布局

### 2. PipelineEditor 组件优化
- **动态标题**: 根据屏幕大小调整标题显示方式
  - 移动端：简化标题，截断过长名称（8个字符）
  - 平板端：适中长度的标题
  - 桌面端：完整标题显示
- **响应式宽度**: 
  - 移动端：100% 全屏
  - 平板端：90% 宽度
  - 小桌面：85% 宽度
  - 大桌面：80% 宽度

## 技术实现

### 屏幕尺寸断点
```typescript
const isMobile = screenWidth < 768
const isTablet = screenWidth >= 768 && screenWidth < 1024
const isSmallDesktop = screenWidth >= 1024 && screenWidth < 1440
```

### 移动端按钮布局
- 核心按钮：取消、添加、保存
- 下拉菜单：编辑信息、预览、高级功能等
- 使用 `Dropdown` 组件和 `MoreOutlined` 图标

### 动态标题生成
- 检测屏幕宽度
- 根据流水线名称长度自动截断
- 调整图标和文字大小

## 优化效果

### 移动端 (< 768px)
- 标题简化：`编辑: 流水线名...`
- 按钮紧凑排列，使用小尺寸
- 次要功能收纳到"更多"菜单

### 平板端 (768px - 1024px)
- 标题适中：`编辑流水线: 完整名称`
- 主要按钮直接显示
- 高级功能合并到下拉菜单

### 桌面端 (>= 1024px)
- 保持原有完整布局
- 所有功能按钮直接可见

## 文件修改

### 修改的文件
1. `frontend/src/components/pipeline/PipelineToolbar.tsx`
   - 添加响应式逻辑
   - 实现按钮分组和下拉菜单
   - 添加屏幕尺寸检测

2. `frontend/src/components/pipeline/PipelineEditor.tsx`
   - 添加动态标题生成函数
   - 实现响应式 Drawer 宽度
   - 优化小屏幕下的标题显示

### 新增依赖
- `Dropdown` 组件用于按钮分组
- `MoreOutlined` 图标用于更多菜单

## 验证方法
1. 在不同屏幕尺寸下打开流水线编辑器
2. 检查标题是否正确显示且不重叠
3. 验证按钮布局是否合理
4. 测试下拉菜单功能是否正常
5. 确认所有功能在各种屏幕尺寸下均可正常使用

## 后续优化建议
1. 可以考虑添加更多的屏幕尺寸断点
2. 可以将按钮文本进一步本地化
3. 可以添加快捷键支持
4. 可以考虑在超小屏幕上使用底部工具栏
